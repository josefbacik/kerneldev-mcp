# General filesystem testing configuration
# Includes all major filesystems for comprehensive testing

# Core filesystem support
CONFIG_BLOCK=y
CONFIG_FILE_LOCKING=y
CONFIG_FS_POSIX_ACL=y

# Crypto support (required by BTRFS and other filesystems)
CONFIG_CRYPTO=y
CONFIG_CRYPTO_CRC32C=y
CONFIG_CRYPTO_XXHASH=y
CONFIG_CRYPTO_SHA256=y
CONFIG_CRYPTO_BLAKE2B=y

# Major filesystems
CONFIG_EXT4_FS=y
CONFIG_EXT4_FS_POSIX_ACL=y
CONFIG_EXT4_FS_SECURITY=y
CONFIG_EXT4_DEBUG=y

CONFIG_XFS_FS=y
CONFIG_XFS_QUOTA=y
CONFIG_XFS_POSIX_ACL=y
CONFIG_XFS_RT=y
CONFIG_XFS_ONLINE_SCRUB=y
CONFIG_XFS_DEBUG=y

CONFIG_BTRFS_FS=y
CONFIG_BTRFS_FS_POSIX_ACL=y

CONFIG_F2FS_FS=y
CONFIG_F2FS_FS_POSIX_ACL=y

# Virtual filesystems
CONFIG_PROC_FS=y
CONFIG_SYSFS=y
CONFIG_TMPFS=y
CONFIG_TMPFS_POSIX_ACL=y
CONFIG_HUGETLBFS=y
CONFIG_CONFIGFS_FS=y
CONFIG_DEBUGFS=y

# Pseudo filesystems
CONFIG_PROC_KCORE=y
CONFIG_PROC_SYSCTL=y

# Network filesystems
CONFIG_NETWORK_FILESYSTEMS=y
CONFIG_NFS_FS=y
CONFIG_NFS_V3=y
CONFIG_NFS_V4=y
CONFIG_NFS_V4_1=y
CONFIG_NFS_V4_2=y
CONFIG_NFSD=y
CONFIG_NFSD_V3=y
CONFIG_NFSD_V4=y

CONFIG_CIFS=y
CONFIG_CIFS_STATS2=y
CONFIG_CIFS_POSIX=y

# Overlay filesystem
CONFIG_OVERLAY_FS=y

# FUSE
CONFIG_FUSE_FS=y

# Quota support
CONFIG_QUOTA=y
CONFIG_QUOTACTL=y
CONFIG_QFMT_V2=y

# Block layer
CONFIG_BLK_DEV_LOOP=y
CONFIG_BLK_DEV_RAM=y
CONFIG_BLK_DEV_NBD=y

# Device mapper
CONFIG_MD=y
CONFIG_BLK_DEV_DM=y
CONFIG_DM_SNAPSHOT=m
CONFIG_DM_THIN_PROVISIONING=m
CONFIG_DM_LOG_WRITES=m
CONFIG_DM_FLAKEY=m
CONFIG_DM_DUST=m

# Encryption
CONFIG_FS_ENCRYPTION=y
CONFIG_FS_VERITY=y

# Compression
CONFIG_ZLIB_INFLATE=y
CONFIG_ZLIB_DEFLATE=y
CONFIG_LZO_COMPRESS=y
CONFIG_LZO_DECOMPRESS=y
CONFIG_ZSTD_COMPRESS=y
CONFIG_ZSTD_DECOMPRESS=y
CONFIG_LZ4_COMPRESS=y
CONFIG_LZ4_DECOMPRESS=y

# SCSI
CONFIG_SCSI=y
CONFIG_BLK_DEV_SD=y
CONFIG_SCSI_DEBUG=m

# Fault injection
CONFIG_FAULT_INJECTION=y
CONFIG_FAULT_INJECTION_DEBUG_FS=y
CONFIG_FAIL_MAKE_REQUEST=y

# Memory management
CONFIG_TRANSPARENT_HUGEPAGE=y
CONFIG_TRANSPARENT_HUGEPAGE_ALWAYS=y
CONFIG_TRANSPARENT_HUGEPAGE_MADVISE=y

# NVMe
CONFIG_NVME_CORE=y
CONFIG_BLK_DEV_NVME=y
