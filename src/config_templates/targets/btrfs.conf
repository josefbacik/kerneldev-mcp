# BTRFS testing configuration
# Optimized for BTRFS filesystem development and testing

# Core filesystem support
CONFIG_BLOCK=y
CONFIG_BLK_DEV=y

# Crypto support (required by BTRFS)
CONFIG_CRYPTO=y
CONFIG_CRYPTO_CRC32C=y
CONFIG_CRYPTO_XXHASH=y
CONFIG_CRYPTO_SHA256=y
CONFIG_CRYPTO_BLAKE2B=y

# BTRFS with all features
CONFIG_BTRFS_FS=y
CONFIG_BTRFS_FS_POSIX_ACL=y
CONFIG_BTRFS_FS_CHECK_INTEGRITY=y
CONFIG_BTRFS_FS_RUN_SANITY_TESTS=y
CONFIG_BTRFS_DEBUG=y
CONFIG_BTRFS_ASSERT=y
CONFIG_BTRFS_FS_REF_VERIFY=y

# Block layer features needed for filesystem testing
CONFIG_BLK_DEV_INTEGRITY=y
CONFIG_BLK_DEV_THROTTLING=y
CONFIG_BLK_WBT=y
CONFIG_BLK_CGROUP=y

# Device mapper (for complex storage testing)
CONFIG_MD=y
CONFIG_BLK_DEV_DM=y
CONFIG_DM_SNAPSHOT=y
CONFIG_DM_THIN_PROVISIONING=y
CONFIG_DM_CACHE=y
CONFIG_DM_MIRROR=y
CONFIG_DM_RAID=y
CONFIG_DM_ZERO=y

# Loop devices
CONFIG_BLK_DEV_LOOP=y
CONFIG_BLK_DEV_LOOP_MIN_COUNT=8

# RAM block device
CONFIG_BLK_DEV_RAM=y
CONFIG_BLK_DEV_RAM_COUNT=16
CONFIG_BLK_DEV_RAM_SIZE=65536

# NBD for network block device testing
CONFIG_BLK_DEV_NBD=y

# SCSI support
CONFIG_SCSI=y
CONFIG_BLK_DEV_SD=y
CONFIG_SCSI_CONSTANTS=y
CONFIG_SCSI_LOGGING=y

# NVMe support
CONFIG_NVME_CORE=y
CONFIG_BLK_DEV_NVME=y

# File locking
CONFIG_FILE_LOCKING=y
CONFIG_MANDATORY_FILE_LOCKING=y

# POSIX ACLs
CONFIG_FS_POSIX_ACL=y

# Extended attributes
CONFIG_FS_ENCRYPTION=y

# Quota support
CONFIG_QUOTA=y
CONFIG_QUOTACTL=y

# Other filesystems for compatibility testing
CONFIG_EXT4_FS=y
CONFIG_EXT4_FS_POSIX_ACL=y
CONFIG_XFS_FS=y
CONFIG_XFS_QUOTA=y
CONFIG_XFS_POSIX_ACL=y

# Compression support
CONFIG_ZLIB_INFLATE=y
CONFIG_ZLIB_DEFLATE=y
CONFIG_LZO_COMPRESS=y
CONFIG_LZO_DECOMPRESS=y
CONFIG_ZSTD_COMPRESS=y
CONFIG_ZSTD_DECOMPRESS=y

# Checksumming
CONFIG_LIBCRC32C=y
CONFIG_CRC32=y
